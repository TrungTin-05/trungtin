<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>ƒê·∫øm s·ªë - L·ªõp 1</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            text-align: center;
            background: url('OIP 2.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #333;
        }
        .game-box {
            margin: 60px auto;
            background-color: rgba(255, 255, 255, 0.9);
            width: 90%;
            max-width: 600px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }
        .question {
            font-size: 32px;
            margin-bottom: 30px;
        }
        .image-container {
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }
        .image-container img {
            width: 80px;
            height: 80px;
            object-fit: contain;
        }
        .answers {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .answer-btn {
            padding: 15px 25px;
            font-size: 24px;
            border: 2px solid #ccc;
            border-radius: 12px;
            background-color: #f0f0f0;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }
        .answer-btn:hover {
            background-color: #e0e0e0;
            transform: scale(1.05);
        }
        .correct {
            background-color: #90ee90;
            border-color: #2e8b57;
        }
        .wrong {
            background-color: #f08080;
            border-color: #a52a2a;
        }
        #next-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        .score-display {
            font-size: 24px;
            font-weight: bold;
            color: #1e40af;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="game-box">
        <!-- Th√™m khu v·ª±c hi·ªÉn th·ªã ƒëi·ªÉm s·ªë -->
        <div class="score-display">
            ƒêi·ªÉm: <span id="score-value">0</span>
        </div>
        <div class="question" id="questionText">
            ƒê·∫øm xem c√≥ bao nhi√™u qu·∫£ t√°o?
        </div>
        <div class="image-container" id="imageContainer">
        </div>
        <div class="answers" id="answersBox">
        </div>
        <p id="result" style="font-size: 20px; margin-top: 20px;"></p>
        <button id="next-btn" onclick="generateQuestion()">C√¢u ti·∫øp theo</button>
    </div>

    <script>
        const imageContainer = document.getElementById("imageContainer");
        const answersBox = document.getElementById("answersBox");
        const result = document.getElementById("result");
        const scoreValueEl = document.getElementById('score-value');
        
        let correctAnswer = null;
        let score = 0; // Bi·∫øn ƒë·ªÉ l∆∞u ƒëi·ªÉm
        
        // D√πng m·ªôt m·∫£ng ƒë·ªÉ l∆∞u c√°c h√¨nh ·∫£nh kh√°c nhau
        const images = ['OIP 4.jpg', 'OIP 5.jpg', 'OIP 6.png', 'OIP 7.jpg']; 
        // Gi·∫£ s·ª≠ b·∫°n c√≥ s·∫µn c√°c t·ªáp h√¨nh ·∫£nh trong c√πng th∆∞ m·ª•c ho·∫∑c c√≥ ƒë∆∞·ªùng d·∫´n tuy·ªát ƒë·ªëi

        /**
         * C·∫≠p nh·∫≠t ƒëi·ªÉm s·ªë tr√™n giao di·ªán ng∆∞·ªùi d√πng.
         */
        function updateScoreDisplay() {
            scoreValueEl.textContent = score;
        }

        /**
         * T·∫°o m·ªôt c√¢u h·ªèi m·ªõi.
         */
        function generateQuestion() {
            // Reset
            imageContainer.innerHTML = "";
            answersBox.innerHTML = "";
            result.textContent = "";

            // Random s·ªë l∆∞·ª£ng h√¨nh ·∫£nh t·ª´ 1 ƒë·∫øn 9
            const count = Math.floor(Math.random() * 9) + 1;
            correctAnswer = count;

            // Random lo·∫°i h√¨nh ·∫£nh
            const randomImage = images[Math.floor(Math.random() * images.length)];

            // T·∫°o h√¨nh ·∫£nh
            for (let i = 0; i < count; i++) {
                const img = document.createElement("img");
                img.src = randomImage;
                imageContainer.appendChild(img);
            }

            // T·∫°o ƒë√°p √°n ng·∫´u nhi√™n
            let options = [correctAnswer];
            while (options.length < 4) {
                let wrong = Math.floor(Math.random() * 9) + 1;
                if (!options.includes(wrong) && wrong !== correctAnswer) options.push(wrong);
            }

            // S·∫Øp x·∫øp ng·∫´u nhi√™n c√°c ƒë√°p √°n
            options = options.sort(() => 0.5 - Math.random());

            // T·∫°o c√°c n√∫t ƒë√°p √°n
            options.forEach(val => {
                const button = document.createElement("button");
                button.className = "answer-btn";
                button.innerText = val;
                button.addEventListener("click", () => checkAnswer(val, button));
                answersBox.appendChild(button);
            });
        }

        /**
         * Ki·ªÉm tra ƒë√°p √°n ƒë∆∞·ª£c ch·ªçn v√† c·∫≠p nh·∫≠t ƒëi·ªÉm s·ªë.
         * @param {number} selected - Gi√° tr·ªã c·ªßa ƒë√°p √°n ng∆∞·ªùi ch∆°i ƒë√£ ch·ªçn.
         * @param {HTMLElement} button - N√∫t m√† ng∆∞·ªùi ch∆°i ƒë√£ nh·∫•p v√†o.
         */
        function checkAnswer(selected, button) {
            // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c n√∫t sau khi ch·ªçn
            Array.from(answersBox.children).forEach(btn => btn.disabled = true);

            if (selected === correctAnswer) {
                button.classList.add("correct");
                result.textContent = "üéâ Ch√≠nh x√°c!";
                score += 10; // TƒÉng ƒëi·ªÉm khi ƒë√∫ng
            } else {
                button.classList.add("wrong");
                result.textContent = "‚ùå Sai r·ªìi!";
                score = Math.max(0, score - 5); // Gi·∫£m ƒëi·ªÉm khi sai, kh√¥ng cho ƒëi·ªÉm √¢m
                // Highlight ƒë√°p √°n ƒë√∫ng
                Array.from(answersBox.children).forEach(btn => {
                    if (parseInt(btn.innerText) === correctAnswer) {
                        btn.classList.add("correct");
                    }
                });
            }
            // C·∫≠p nh·∫≠t ƒëi·ªÉm s·ªë sau m·ªói l·∫ßn tr·∫£ l·ªùi
            updateScoreDisplay();
        }

        // T·∫°o c√¢u h·ªèi ƒë·∫ßu ti√™n khi load
        window.onload = function() {
            score = 0; // ƒê·∫∑t l·∫°i ƒëi·ªÉm v·ªÅ 0 khi b·∫Øt ƒë·∫ßu game
            updateScoreDisplay();
            generateQuestion();
        }
    </script>
</body>
</html>
